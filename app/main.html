<!DOCTYPE html>
<html manifest="example.appcache">

<head>

    <title> Transdata </title>

    <link href="../app/stylesheets/kendo.flat.css" rel="stylesheet">
    <link href="../app/stylesheets/kendo.common.css" rel="stylesheet">
    <link href="../app/stylesheets/kendo.rtl.css" rel="stylesheet">
    <link href="../app/stylesheets/core.css" rel="stylesheet">
    <link href="../app/stylesheets/960.css" rel="stylesheet">
    <link href="../app/stylesheets/style.css" rel="stylesheet">
    <!-- <link href="../app/stylesheets/stylematerial/kendo.custom.css" rel="stylesheet"> -->

    <link href="../bower_components/animate.css/animate.css" rel="stylesheet">
    <link href="../bower_components/font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="../bower_components/freewall/freewall.css" rel="stylesheet">
    </link>
    <link href="../bower_components/toastr/toastr.css" rel="stylesheet">
    <link href="../bower_components/angular-material/angular-material.min.css" rel="stylesheet">
    </link>
    <script src="../app/javascripts/Kendo/jquery.js"></script>
    <script src="../app/javascripts/angular.min.js" type="text/javascript"></script>
    <script src="../app/javascripts/jszip.min.js"></script>
    <link rel="icon" type="image/x-icon" href="../app/images/favicon.ico" />

    <!-- <link href="https://fonts.googleapis.com/css?family=Comfortaa&display=swap" rel="stylesheet"> -->
</head>
<!-- TIMEOUT  -->
<!-- <body ng-controller="Controller" id="body" onload="StartTimers(event)" onkeyup="ResetTimers(event)" onmousemove="ResetTimers(event)"> -->
<body ng-controller="Controller" id="body" > 
    <div class="pageLoader animated" ng-class={slideOutUp:hasLoad}>
        <img src="../app/stylesheets/Flat/loading-image.gif" />
    </div>
    <div id="header">
        <div ng-include='"../app/template/header/header"'></div>
    </div>
    <div class="status-bar"></div>
    <div class="container_12" id="main-place" style="min-height:500px">
        <div style="position:relative" ui-view></div>
        <md-sidenav class="md-sidenav-left" md-component-id="right">

            <md-toolbar class="md-theme-light">
                <h1 class="md-toolbar-tools"><i class="fa fa-th-list" aria-hidden="true"></i> &nbsp; Navigasi</h1>
            </md-toolbar>
            <md-content layout-padding>
                <tree-bind data="menu">
                </tree-bind>
            </md-content>
            <!-- <span class="footers">
             <p>Copyright by PT. Jasamedika Saranatama</p>
             <p>Powered by @Epic_Team</p>
            </span> -->
        </md-sidenav>
    </div>
    <!-- <div class="footer-bar">
        <div class="footer-links" style="color: #fff; margin-left: 40px;font-size: 11px;">
            <span>Copyright by PT. Jasamedika Saranatama </span>
            <span class="link-divider">|</span>
            <span>Powered by @Epic_Team</span>
        </div>
    </div> -->
    <!--<c-side-nav header="Menu" is-open="isOpen" is-tablet="isTablet" top="73">

        
    </c-side-nav>-->
    <div class="grid_12">
        <div class="panel-message">

        </div>
    </div>

    <script src="../app/javascripts/Kendo/jquery.js"></script>
    <script src="../bower_components/toastr/toastr.js"></script>
    <script src="../app/javascripts/jquery-mask.js"></script>
    <script src="../app/javascripts/angular-resource.min.js" type="text/javascript"></script>
    <script src="../app/javascripts/socket.io.js"></script>
    <script src="../app/javascripts/angular.fullscreen.js"></script>
    <script src="../bower_components/angular-socket-io/socket.js"></script>
    <script src="../bower_components/angular-aria/angular-aria.min.js"></script>

    <script src="../bower_components/angular-material/angular-material.min.js"></script>

    <script src="../bower_components/angular-sanitize/angular-sanitize.min.js"></script>
    <script src="../bower_components/terbilang/index.js"></script>
    <script src="../bower_components/terbilang/index.js"></script>

    <script src="../app/javascripts/underscore-min.js"></script>
    <script src="../app/javascripts/js-xlsx/shim.js"></script>
    <script src="../app/javascripts/js-xlsx/jszip.js"></script>
    <script src="../app/javascripts/js-xlsx/xlsx.js"></script>
    <script src="../app/javascripts/angular-ui-router.js"></script>
    <script src="../app/javascripts/angular-resource.min.js" type="text/javascript"></script>
    <script src="../bower_components/moment/moment.js" type="text/javascript" charset="utf-8"></script>
    <script src="../app/javascripts/jszip.min.js"></script>
    <script src="../app/javascripts/pako_deflate.min.js"></script>

    <script src="../app/javascripts/require.js" type="text/javascript" charset="utf-8"></script>

    <!-- <script src="../bower_components/jspdf/dist/jspdf.min.js"></script> -->
    <!-- <script src="../node_modules/jspdf/dist/jspdf.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.debug.js" integrity="sha384-NaWTHo/8YCBYJ59830LTz/P4aQZK1sS0SneOgAvhsIl3zBu8r9RevNg5lHCHAuQ/" crossorigin="anonymous"></script> -->
    <script>
        String.prototype.replaceAll = function (search, replacement) {
            var target = this;
            var temp = "";
            for (var i in target) {
                if (target[i] === search)
                    target[i] = replacement
                if (angular.isFunction(target[i]) === false)
                    temp += target[i];
            }
            return temp;
        };
        window.root = "../app/";
        $(document).ready(function () {
            (function () {
                require([
                    '../app/javascripts/main.js',
                    function () {

                    }
                ]);
            }());
        });
        var appCache = window.applicationCache;
        switch (appCache.status) {
            case appCache.UNCACHED: // UNCACHED == 0
                console.log('UNCACHED');
                break;
            case appCache.IDLE: // IDLE == 1
                console.log('IDLE');
                break;
            case appCache.CHECKING: // CHECKING == 2
                console.log('CHECKING');
                break;
            case appCache.DOWNLOADING: // DOWNLOADING == 3
                console.log('DOWNLOADING');
                break;
            case appCache.UPDATEREADY: // UPDATEREADY == 4
                console.log('UPDATEREADY');
                break;
            case appCache.OBSOLETE: // OBSOLETE == 5
                console.log('OBSOLETE');
                break;
            default:
                console.log('UKNOWN CACHE STATUS');


                break;
        };
        // Check if a new cache is available on page load.
        window.addEventListener('load', function (e) {
            window.applicationCache.addEventListener('updateready', function (e) {
                if (appCache.status == window.applicationCache.UPDATEREADY) {
                    appCache.swapCache(); // The fetch was successful, swap in the new cache.
                }
            }, false);

        }, false);
    </script>
    <script>
        var timoutWarning = 10800000 // 3 jam
        //300000; // Display warning in 5 Mins. 
        var timoutNow = 10810000 ///3 jam
         //305000; // Warning has been shown, give the user 1 minute to interact

        var warningTimer;
        var timeoutTimer;
        // Start timers.
        function StartTimers() {
            warningTimer = setTimeout("IdleWarning()", timoutWarning);
            timeoutTimer = setTimeout("IdleTimeout()", timoutNow);
        }

        // Reset timers.
        function ResetTimers(e) {
            clearTimeout(warningTimer);
            clearTimeout(timeoutTimer);
            StartTimers();
            // $("#timeout").dialog('close');
        }

        // Show idle timeout warning dialog.
        function IdleWarning() {
            toastr.info('Halaman Anda akan diarahkan ke halaman login. Karena tidak menggerakkan mouse Anda dalam 3 Jam', 'Peringatan')
        }

        function IdleTimeout() {
            // $http.post(setting.baseUrlLogout, datauserlogin, headersPost);
            var pegawai = JSON.parse(window.localStorage.getItem("pegawai"));
            // socket.emit('logout', pegawai);

            window.localStorage.clear();

            var delete_cookie = function (name) {
                var today = new Date();
                var expr = new Date(today.getTime() + (-1 * 24 * 60 * 60 * 1000));
                document.cookie = name + '=;expires=' + (expr.toGMTString());
            }
            delete_cookie('authorizationss');
            delete_cookie('statusCode');
            delete_cookie('io');



            window.location.replace('Logout');
            // toastr.error('adada')
            // $rootScope.doLogout();
        }
        jQuery(document).bind("keyup keydown", function (e) {
            // console.log('press ' + e.keyCode + ' & Control : ' + e.ctrlKey)
            if (e.ctrlKey && e.keyCode == 66) {
                window.history.back();
            } else
                if (e.ctrlKey && e.keyCode == 80) {
                    toastr.info('Printing...');
                    var ctrl = $("#content");
                    var paperSize = "a4";
                    if ($("#paperSize").html() !== undefined)
                        paperSize = $("#paperSize").html().split(',');
                    kendo.drawing.drawDOM(ctrl)
                        .then(function (group) {
                            return kendo.drawing.exportPDF(group, {
                                paperSize: paperSize,
                                margin: {
                                    left: "1cm ",
                                    top: "1cm ",
                                    right: "1cm ",
                                    bottom: "1cm "
                                }
                            });
                        })
                        .done(function (data) {
                            console.log('print save as');
                            // Save the PDF file
                            kendo.saveAs({
                                dataURI: data,
                                fileName: new Date().getTime() + ".pdf"
                            });
                        });

                    return false;
                }
        });
    </script>

</body>

</html>